{"ast":null,"code":"import axios from 'axios';\nimport { Promise } from 'core-js';\n// import { resolve } from 'core-js/fn/promise';\nimport { ref, reactive } from 'vue';\nexport default {\n  setup() {\n    let isCollapse = ref(true);\n    let asideWidth = ref(70);\n    let asideState = reactive({\n      routes: []\n    });\n    function close() {\n      // asideState.routes;\n      asideWidth.value = 70;\n      console.log(asideWidth);\n    }\n    function open() {\n      asideWidth.value = 200;\n    }\n    function getMenu() {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          let lists = localStorage.getItem(\"routeLists\");\n          let route = JSON.parse(lists);\n          console.log(\"2222\");\n          asideState.routes = route;\n          resolve(route);\n        }, 500);\n      });\n    }\n    function getRoutes() {\n      return new Promise(resolve => {\n        axios.get(\"/url/route\").then(res => res.data).then(data => {\n          const route = JSON.stringify(data.data);\n          localStorage.setItem(\"routeLists\", route);\n          console.log(\"111\");\n        }).catch(e => {\n          console.log(e);\n          ElMessage.error(\"菜单请求错误\");\n        });\n        resolve(\"1111\");\n      });\n    }\n    return {\n      isCollapse,\n      asideWidth,\n      asideState,\n      open,\n      close,\n      getMenu,\n      getRoutes\n      // dynamicRouter\n    };\n  },\n  created: async function () {\n    await this.getRoutes();\n    await this.getMenu();\n    console.log(this.asideState.routes);\n  }\n};","map":{"version":3,"names":["axios","Promise","ref","reactive","setup","isCollapse","asideWidth","asideState","routes","close","value","console","log","open","getMenu","resolve","setTimeout","lists","localStorage","getItem","route","JSON","parse","getRoutes","get","then","res","data","stringify","setItem","catch","e","ElMessage","error","created"],"sources":["C:\\Users\\18725\\Desktop\\集训队管理系统开发\\manage\\front\\manage\\src\\components\\Aside.vue"],"sourcesContent":["<template>\r\n\r\n    <el-aside :style=\"{ width: asideWidth + 'px' }\" style=\"overflow: hidden;\" class=\"aside\">\r\n        <el-radio-group v-model=\"isCollapse\" style=\"margin-bottom: 10px;width: 70px; overflow: hidden;\">\r\n            <el-radio-button @click=\"open\" v-show=\"isCollapse\" :value=\"false\">\r\n                <el-icon>\r\n                    <Open />\r\n                </el-icon>\r\n            </el-radio-button>\r\n            <el-radio-button @click=\"close\" v-show=\"!isCollapse\" :value=\"true\">\r\n                <el-icon>\r\n                    <TurnOff />\r\n                </el-icon>\r\n            </el-radio-button>\r\n        </el-radio-group>\r\n        <el-menu default-active=\"1\" active-text-color=\"#409EFF\" :collapse=\"isCollapse\" @open=\"open\" @close=\"close\"\r\n            :collapse-transition='false' style=\"width: 100%;height: 100%;border:0;\">\r\n            <!-- <p>YEs</p> -->\r\n            <template v-for=\"item in asideState.routes\" :key=\"item.id\">\r\n                <router-link :to=\"item.link\">\r\n                    <el-menu-item :index=\"item.id + ''\">\r\n                        <el-icon>\r\n                            <component :is=\"item.icon\" />\r\n                        </el-icon>\r\n                        <template #title>{{ item.name }}</template>\r\n                    </el-menu-item>\r\n                </router-link>\r\n\r\n            </template>\r\n        </el-menu>\r\n    </el-aside>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios';\r\nimport { Promise } from 'core-js';\r\n// import { resolve } from 'core-js/fn/promise';\r\nimport { ref, reactive } from 'vue'\r\nexport default {\r\n    setup() {\r\n        let isCollapse = ref(true);\r\n        let asideWidth = ref(70);\r\n        let asideState = reactive({\r\n            routes: []\r\n        });\r\n        function close() {\r\n            // asideState.routes;\r\n            asideWidth.value = 70;\r\n            console.log(asideWidth)\r\n        }\r\n        function open() {\r\n            asideWidth.value = 200;\r\n        }\r\n        function getMenu() {\r\n            return new Promise(resolve => {\r\n                setTimeout(() => {\r\n                    let lists = localStorage.getItem(\"routeLists\");\r\n                    let route = JSON.parse(lists);\r\n                    console.log(\"2222\");\r\n                    asideState.routes = route;\r\n                    resolve(route);\r\n                }, 500)\r\n\r\n            });\r\n\r\n        }\r\n        function getRoutes() {\r\n            return new Promise(resolve => {\r\n                axios.get(\"/url/route\").then(res => res.data).then(data => {\r\n                    const route = JSON.stringify(data.data);\r\n                    localStorage.setItem(\"routeLists\", route);\r\n                    console.log(\"111\");\r\n                }).catch(e => {\r\n                    console.log(e);\r\n                    ElMessage.error(\"菜单请求错误\");\r\n                })\r\n                resolve(\"1111\");\r\n            });\r\n        }\r\n        return {\r\n            isCollapse,\r\n            asideWidth,\r\n            asideState,\r\n            open,\r\n            close,\r\n            getMenu,\r\n            getRoutes\r\n            // dynamicRouter\r\n        }\r\n    },\r\n    created: async function () {\r\n        await this.getRoutes();\r\n        await this.getMenu();\r\n        console.log(this.asideState.routes);\r\n\r\n    }\r\n}\r\n</script>\r\n<style scoped>\r\n.aside {\r\n    /* background-color: #a1a3a6; */\r\n}\r\n\r\n/* .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n    width: 260px;\r\n    height: 100%;\r\n\r\n} */\r\n/* .el-menu-item.is-active {\r\n  background-color: #409eff!important;\r\n} */\r\n</style>"],"mappings":"AAkCA,OAAOA,KAAI,MAAO,OAAO;AACzB,SAASC,OAAM,QAAS,SAAS;AACjC;AACA,SAASC,GAAG,EAAEC,QAAO,QAAS,KAAI;AAClC,eAAe;EACXC,KAAKA,CAAA,EAAG;IACJ,IAAIC,UAAS,GAAIH,GAAG,CAAC,IAAI,CAAC;IAC1B,IAAII,UAAS,GAAIJ,GAAG,CAAC,EAAE,CAAC;IACxB,IAAIK,UAAS,GAAIJ,QAAQ,CAAC;MACtBK,MAAM,EAAE;IACZ,CAAC,CAAC;IACF,SAASC,KAAKA,CAAA,EAAG;MACb;MACAH,UAAU,CAACI,KAAI,GAAI,EAAE;MACrBC,OAAO,CAACC,GAAG,CAACN,UAAU;IAC1B;IACA,SAASO,IAAIA,CAAA,EAAG;MACZP,UAAU,CAACI,KAAI,GAAI,GAAG;IAC1B;IACA,SAASI,OAAOA,CAAA,EAAG;MACf,OAAO,IAAIb,OAAO,CAACc,OAAM,IAAK;QAC1BC,UAAU,CAAC,MAAM;UACb,IAAIC,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,CAAC;UAC9C,IAAIC,KAAI,GAAIC,IAAI,CAACC,KAAK,CAACL,KAAK,CAAC;UAC7BN,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;UACnBL,UAAU,CAACC,MAAK,GAAIY,KAAK;UACzBL,OAAO,CAACK,KAAK,CAAC;QAClB,CAAC,EAAE,GAAG;MAEV,CAAC,CAAC;IAEN;IACA,SAASG,SAASA,CAAA,EAAG;MACjB,OAAO,IAAItB,OAAO,CAACc,OAAM,IAAK;QAC1Bf,KAAK,CAACwB,GAAG,CAAC,YAAY,CAAC,CAACC,IAAI,CAACC,GAAE,IAAKA,GAAG,CAACC,IAAI,CAAC,CAACF,IAAI,CAACE,IAAG,IAAK;UACvD,MAAMP,KAAI,GAAIC,IAAI,CAACO,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC;UACvCT,YAAY,CAACW,OAAO,CAAC,YAAY,EAAET,KAAK,CAAC;UACzCT,OAAO,CAACC,GAAG,CAAC,KAAK,CAAC;QACtB,CAAC,CAAC,CAACkB,KAAK,CAACC,CAAA,IAAK;UACVpB,OAAO,CAACC,GAAG,CAACmB,CAAC,CAAC;UACdC,SAAS,CAACC,KAAK,CAAC,QAAQ,CAAC;QAC7B,CAAC;QACDlB,OAAO,CAAC,MAAM,CAAC;MACnB,CAAC,CAAC;IACN;IACA,OAAO;MACHV,UAAU;MACVC,UAAU;MACVC,UAAU;MACVM,IAAI;MACJJ,KAAK;MACLK,OAAO;MACPS;MACA;IACJ;EACJ,CAAC;EACDW,OAAO,EAAE,eAAAA,CAAA,EAAkB;IACvB,MAAM,IAAI,CAACX,SAAS,CAAC,CAAC;IACtB,MAAM,IAAI,CAACT,OAAO,CAAC,CAAC;IACpBH,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,UAAU,CAACC,MAAM,CAAC;EAEvC;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}