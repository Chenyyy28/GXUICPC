{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"mainBody\"\n};\nconst _hoisted_2 = {\n  style: {\n    \"width\": \"80%\",\n    \"margin\": \"0 auto\",\n    \"position\": \"absolute\",\n    \"top\": \"5%\",\n    \"left\": \"10%\"\n  }\n};\nconst _hoisted_3 = {\n  style: {\n    \"margin\": \"10px auto\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  return _openBlock(), _createBlock(_component_el_main, {\n    class: \"main\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[1] || (_cache[1] = _createElementVNode(\"h1\", {\n      style: {\n        \"text-align\": \"center\",\n        \"width\": \"100%\",\n        \"margin-bottom\": \"20px\"\n      }\n    }, \"预备役成员排名\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_3, [_cache[0] || (_cache[0] = _createElementVNode(\"span\", {\n      style: {\n        \"margin-left\": \"10px\"\n      }\n    }, \"排名计算区间：\", -1 /* HOISTED */)), _createElementVNode(\"span\", null, _toDisplayString($setup.start) + \" 到 \", 1 /* TEXT */), _createElementVNode(\"span\", null, _toDisplayString($setup.end), 1 /* TEXT */)]), _createVNode(_component_el_table, {\n      data: $setup.rankInfo,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"username\",\n        label: \"姓名\",\n        width: \"180\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"score\",\n        label: \"总得分\",\n        width: \"180\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"codeforces\",\n        label: \"codeforces\",\n        sortable: \"\",\n        \"sort-method\": $setup.sortByCF\n      }, null, 8 /* PROPS */, [\"sort-method\"]), _createVNode(_component_el_table_column, {\n        prop: \"luogu\",\n        label: \"luogu\",\n        sortable: \"\",\n        \"sort-method\": $setup.sortByLG\n      }, null, 8 /* PROPS */, [\"sort-method\"]), _createVNode(_component_el_table_column, {\n        prop: \"vjudge\",\n        label: \"vjudge\",\n        sortable: \"\",\n        \"sort-method\": $setup.sortByVJ\n      }, null, 8 /* PROPS */, [\"sort-method\"]), _createVNode(_component_el_table_column, {\n        prop: \"nowcoder\",\n        label: \"nowcoder\",\n        sortable: \"\",\n        \"sort-method\": $setup.sortByNK\n      }, null, 8 /* PROPS */, [\"sort-method\"])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\"])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","style","_createBlock","_component_el_main","default","_withCtx","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","$setup","start","end","_createVNode","_component_el_table","data","rankInfo","_component_el_table_column","prop","label","width","sortable","sortByCF","sortByLG","sortByVJ","sortByNK","_"],"sources":["C:\\Users\\18725\\Desktop\\集训队管理系统开发\\manage\\front\\manage\\src\\components\\PreparationPage.vue"],"sourcesContent":["<template>\r\n    <el-main class=\"main\">\r\n        <div class=\"mainBody\">\r\n            <div style=\"width: 80%;margin:0 auto;position:absolute;top:5%;left:10%;\">\r\n                <h1 style=\"text-align:center;width:100%;margin-bottom:20px\">预备役成员排名</h1>\r\n                <div style=\"margin:10px auto;\">\r\n                    <span style=\"margin-left: 10px;\">排名计算区间：</span>\r\n                    <span>{{ start }} 到 </span>\r\n                    <span>{{ end }}</span>\r\n                </div>\r\n                <el-table :data=\"rankInfo\" style=\"width: 100%\">\r\n                    <el-table-column prop=\"username\" label=\"姓名\" width=\"180\" />\r\n                    <el-table-column prop=\"score\" label=\"总得分\" width=\"180\" />\r\n                    <el-table-column prop=\"codeforces\" label=\"codeforces\" sortable :sort-method=\"sortByCF\" />\r\n                    <el-table-column prop=\"luogu\" label=\"luogu\" sortable :sort-method=\"sortByLG\" />\r\n                    <el-table-column prop=\"vjudge\" label=\"vjudge\" sortable :sort-method=\"sortByVJ\" />\r\n                    <el-table-column prop=\"nowcoder\" label=\"nowcoder\" sortable :sort-method=\"sortByNK\" />\r\n                </el-table>\r\n            </div>\r\n        </div>\r\n    </el-main>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nimport { ElMessage } from 'element-plus';\r\nimport { reactive, ref } from 'vue';\r\n\r\n\r\nexport default {\r\n    setup() {\r\n        let rankInfo = ref([])\r\n        let time = ref();\r\n        let start = ref()\r\n        let end = ref()\r\n        function getInfo() {\r\n            axios.get('/url/rank', {\r\n                params: {\r\n                    role: 'prepare'\r\n                }\r\n            }).then(res => res.data)\r\n                .then(res => {\r\n                    if (res.code == 200) {\r\n                        this.rankInfo = res.data;\r\n                        // console.log(rankInfo);\r\n                    } else {\r\n                        ElMessage.error(\"获取排名列表失败\")\r\n                    }\r\n                }).catch(e => {\r\n                    ElMessage.error(\"获取排名列表失败\")\r\n                })\r\n        }\r\n        function sortByCF(x, y) {\r\n            return y.codeforces - x.codeforces;\r\n        }\r\n        function sortByLG(x, y) {\r\n            return y.luogu - x.luogu;\r\n        }\r\n        function sortByVJ(x, y) {\r\n            return y.vjudge - x.vjudge;\r\n        }\r\n        function sortByNK(x, y) {\r\n            return y.nowcoder - x.nowcoder;\r\n        }\r\n        function getTime() {\r\n            axios.get('/url/time')\r\n                .then(res => res.data)\r\n                .then(res => {\r\n                    if (res.code == 200)\r\n                        this.timeInterval = res.data;\r\n                        this.start = new Date(this.timeInterval[0]).toLocaleDateString();\r\n                        this.end = new Date(this.timeInterval[1]).toLocaleDateString();\r\n                })\r\n                .catch(e=>{})\r\n        }\r\n        return {\r\n            rankInfo,\r\n            getInfo,\r\n            time,\r\n            getTime,\r\n            sortByCF,\r\n            sortByLG,\r\n            sortByVJ,\r\n            sortByNK,\r\n            start,\r\n            end,\r\n        }\r\n    },\r\n    created() {\r\n        this.getInfo();\r\n        this.getTime();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.main {\r\n    background-color: #EEE\r\n}\r\n\r\n.mainBody {\r\n    background-color: white;\r\n    width: 70%;\r\n    min-width: 700px;\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    overflow: auto;\r\n}\r\n\r\n.myBody {\r\n    position: absolute;\r\n    left: 10%;\r\n    top: 10%;\r\n    width: 80%;\r\n    height: 90%;\r\n}\r\n</style>\r\n"],"mappings":";;EAEaA,KAAK,EAAC;AAAU;;EACZC,KAAmE,EAAnE;IAAA;IAAA;IAAA;IAAA;IAAA;EAAA;AAAmE;;EAE/DA,KAAyB,EAAzB;IAAA;EAAA;AAAyB;;;;;uBAJ1CC,YAAA,CAmBUC,kBAAA;IAnBDH,KAAK,EAAC;EAAM;IADzBI,OAAA,EAAAC,QAAA,CAEQ,MAiBM,CAjBNC,mBAAA,CAiBM,OAjBNC,UAiBM,GAhBFD,mBAAA,CAeM,OAfNE,UAeM,G,0BAdFF,mBAAA,CAAwE;MAApEL,KAAuD,EAAvD;QAAA;QAAA;QAAA;MAAA;IAAuD,GAAC,SAAO,sBACnEK,mBAAA,CAIM,OAJNG,UAIM,G,0BAHFH,mBAAA,CAA+C;MAAzCL,KAA0B,EAA1B;QAAA;MAAA;IAA0B,GAAC,SAAO,sBACxCK,mBAAA,CAA2B,cAAAI,gBAAA,CAAlBC,MAAA,CAAAC,KAAK,IAAG,KAAG,iBACpBN,mBAAA,CAAsB,cAAAI,gBAAA,CAAbC,MAAA,CAAAE,GAAG,iB,GAEhBC,YAAA,CAOWC,mBAAA;MAPAC,IAAI,EAAEL,MAAA,CAAAM,QAAQ;MAAEhB,KAAmB,EAAnB;QAAA;MAAA;;MAV3CG,OAAA,EAAAC,QAAA,CAWoB,MAA0D,CAA1DS,YAAA,CAA0DI,0BAAA;QAAzCC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC,IAAI;QAACC,KAAK,EAAC;UAClDP,YAAA,CAAwDI,0BAAA;QAAvCC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC,KAAK;QAACC,KAAK,EAAC;UAChDP,YAAA,CAAyFI,0BAAA;QAAxEC,IAAI,EAAC,YAAY;QAACC,KAAK,EAAC,YAAY;QAACE,QAAQ,EAAR,EAAQ;QAAE,aAAW,EAAEX,MAAA,CAAAY;gDAC7ET,YAAA,CAA+EI,0BAAA;QAA9DC,IAAI,EAAC,OAAO;QAACC,KAAK,EAAC,OAAO;QAACE,QAAQ,EAAR,EAAQ;QAAE,aAAW,EAAEX,MAAA,CAAAa;gDACnEV,YAAA,CAAiFI,0BAAA;QAAhEC,IAAI,EAAC,QAAQ;QAACC,KAAK,EAAC,QAAQ;QAACE,QAAQ,EAAR,EAAQ;QAAE,aAAW,EAAEX,MAAA,CAAAc;gDACrEX,YAAA,CAAqFI,0BAAA;QAApEC,IAAI,EAAC,UAAU;QAACC,KAAK,EAAC,UAAU;QAACE,QAAQ,EAAR,EAAQ;QAAE,aAAW,EAAEX,MAAA,CAAAe;;MAhB7FC,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}