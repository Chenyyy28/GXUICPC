{"ast":null,"code":"import store from '@/store';\nimport axios from 'axios';\nimport { ElMessage } from 'element-plus';\nimport { ref, onMounted, onBeforeMount } from 'vue';\nexport default {\n  __name: 'Aside',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n\n    // import { store } from '@/store';\n    let isCollapse = ref(true);\n    let asideWidth = ref(70);\n    const routes = [];\n    function close() {\n      // isCollapse = false;\n      asideWidth.value = 70;\n      console.log(asideWidth);\n    }\n    function open() {\n      // isCollapse = true;\n      asideWidth.value = 200;\n      console.log(asideWidth);\n    }\n    function dynamicRouter() {\n      // this.$store.commit('setDynamicRouter', JSON.stringify(lists));\n      axios.get(\"/url/route\").then(res => res.data).then(data => {\n        // store.state.dynamicRouter = data;\n        const route = JSON.stringify(data);\n        const lists = JSON.parse(route).data;\n        // console.log(lists);\n        // lists = lists.data;\n        console.log(lists);\n\n        // store.commit('setDynamicRouter', JSON.stringify(lists))\n        // console.log(\"store: \" + store.state.dynamicRouter);\n        // for (let i = 0; i < lists.length; i++) {\n        //     routes[i].id = lists[i].id;\n        //     routes[i].url = lists[i].link;\n        //     routes[i].icon = lists[i].icon;\n        //     routes[i].name = lists[i].name;\n        //     console.log(routes[i]);\n\n        // }\n        routes = lists;\n      }).catch(e => {\n        console.log(e);\n        ElMessage.error(\"菜单请求错误\");\n      });\n    }\n    // onBeforeMount(() => {\n    //     dynamicRouter();\n    // })\n    onMounted(() => {\n      // console.log(\"Aside this : \" + this);\n      dynamicRouter();\n      // const list = store.commit('getDynamicRouter');\n      // console.log(\"Aside log : \" + list);\n      // // for (let i = 0; i < list.length; i++) {\n      // //     routes[i].id = list[i].id;\n      // //     routes[i].link = list[i].link;\n      // //     routes[i].icon = list[i].icon;\n      // //     routes[i].name = list[i].name;\n      // // }\n    });\n    // onCreated(() => {\n\n    // })\n\n    const __returned__ = {\n      get isCollapse() {\n        return isCollapse;\n      },\n      set isCollapse(v) {\n        isCollapse = v;\n      },\n      get asideWidth() {\n        return asideWidth;\n      },\n      set asideWidth(v) {\n        asideWidth = v;\n      },\n      routes,\n      close,\n      open,\n      dynamicRouter,\n      get store() {\n        return store;\n      },\n      get axios() {\n        return axios;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      ref,\n      onMounted,\n      onBeforeMount\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["store","axios","ElMessage","ref","onMounted","onBeforeMount","isCollapse","asideWidth","routes","close","value","console","log","open","dynamicRouter","get","then","res","data","route","JSON","stringify","lists","parse","catch","e","error"],"sources":["C:/Users/18725/Desktop/集训队管理系统开发/manage/front/manage/src/components/Aside.vue"],"sourcesContent":["<template>\r\n\r\n    <el-aside :style=\"{ width: asideWidth + 'px' }\" style=\"overflow: hidden;\" class=\"aside\">\r\n        <el-radio-group v-model=\"isCollapse\" style=\"margin-bottom: 10px;width: 70px; overflow: hidden;\">\r\n            <el-radio-button @click=\"open\" v-show=\"isCollapse\" :value=\"false\">\r\n                <el-icon>\r\n                    <Open />\r\n                </el-icon>\r\n            </el-radio-button>\r\n            <el-radio-button @click=\"close\" v-show=\"!isCollapse\" :value=\"true\">\r\n                <el-icon>\r\n                    <TurnOff />\r\n                </el-icon>\r\n            </el-radio-button>\r\n        </el-radio-group>\r\n        <el-menu default-active=\"1\" active-text-color=\"#409EFF\" :collapse=\"isCollapse\" @open=\"open\" @close=\"close\"\r\n            :collapse-transition='false' style=\"width: 100%;height: 100%;border:0;\">\r\n            <template v-for=\"item in routes\" :key=\"item.id\">\r\n                <router-link :to=\"item.link\">\r\n                    <el-menu-item :index=\"item.id + ''\">\r\n                        <el-icon>\r\n                            <!-- <UserFilled /> -->\r\n                            <component :is=\"item.icon\" />\r\n                        </el-icon>\r\n                        <template #title>{{ item.name }}</template>\r\n                    </el-menu-item>\r\n                </router-link>\r\n            </template>\r\n        </el-menu>\r\n    </el-aside>\r\n</template>\r\n<script setup>\r\n// import { store } from '@/store';\r\nimport store from '@/store';\r\nimport axios from 'axios';\r\nimport { ElMessage } from 'element-plus';\r\nimport { ref, onMounted, onBeforeMount } from 'vue'\r\nlet isCollapse = ref(true);\r\nlet asideWidth = ref(70);\r\nconst routes = []\r\nfunction close() {\r\n    // isCollapse = false;\r\n    asideWidth.value = 70;\r\n    console.log(asideWidth)\r\n}\r\nfunction open() {\r\n    // isCollapse = true;\r\n    asideWidth.value = 200\r\n    console.log(asideWidth)\r\n}\r\nfunction dynamicRouter() {\r\n    // this.$store.commit('setDynamicRouter', JSON.stringify(lists));\r\n    axios.get(\"/url/route\").then(res => res.data).then(data => {\r\n        // store.state.dynamicRouter = data;\r\n        const route = JSON.stringify(data);\r\n        const lists = JSON.parse(route).data;\r\n        // console.log(lists);\r\n        // lists = lists.data;\r\n        console.log(lists);\r\n\r\n        // store.commit('setDynamicRouter', JSON.stringify(lists))\r\n        // console.log(\"store: \" + store.state.dynamicRouter);\r\n        // for (let i = 0; i < lists.length; i++) {\r\n        //     routes[i].id = lists[i].id;\r\n        //     routes[i].url = lists[i].link;\r\n        //     routes[i].icon = lists[i].icon;\r\n        //     routes[i].name = lists[i].name;\r\n        //     console.log(routes[i]);\r\n            \r\n        // }\r\n        routes = lists;\r\n\r\n    }).catch(e => {\r\n        console.log(e);\r\n        ElMessage.error(\"菜单请求错误\");\r\n    })\r\n}\r\n// onBeforeMount(() => {\r\n//     dynamicRouter();\r\n// })\r\nonMounted(() => {\r\n    // console.log(\"Aside this : \" + this);\r\n    dynamicRouter();\r\n    // const list = store.commit('getDynamicRouter');\r\n    // console.log(\"Aside log : \" + list);\r\n    // // for (let i = 0; i < list.length; i++) {\r\n    // //     routes[i].id = list[i].id;\r\n    // //     routes[i].link = list[i].link;\r\n    // //     routes[i].icon = list[i].icon;\r\n    // //     routes[i].name = list[i].name;\r\n    // // }\r\n})\r\n// onCreated(() => {\r\n\r\n// })\r\n</script>\r\n<style>\r\n.aside {\r\n    /* background-color: #a1a3a6; */\r\n}\r\n\r\n/* .el-menu-vertical-demo:not(.el-menu--collapse) {\r\n    width: 260px;\r\n    height: 100%;\r\n\r\n} */\r\n/* .el-menu-item.is-active {\r\n  background-color: #409eff!important;\r\n} */\r\n</style>"],"mappings":"AAiCA,OAAOA,KAAK,MAAM,SAAS;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,GAAG,EAAEC,SAAS,EAAEC,aAAa,QAAQ,KAAK;;;;;;;;IAJnD;IAKA,IAAIC,UAAU,GAAGH,GAAG,CAAC,IAAI,CAAC;IAC1B,IAAII,UAAU,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMK,MAAM,GAAG,EAAE;IACjB,SAASC,KAAKA,CAAA,EAAG;MACb;MACAF,UAAU,CAACG,KAAK,GAAG,EAAE;MACrBC,OAAO,CAACC,GAAG,CAACL,UAAU,CAAC;IAC3B;IACA,SAASM,IAAIA,CAAA,EAAG;MACZ;MACAN,UAAU,CAACG,KAAK,GAAG,GAAG;MACtBC,OAAO,CAACC,GAAG,CAACL,UAAU,CAAC;IAC3B;IACA,SAASO,aAAaA,CAAA,EAAG;MACrB;MACAb,KAAK,CAACc,GAAG,CAAC,YAAY,CAAC,CAACC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAACF,IAAI,CAACE,IAAI,IAAI;QACvD;QACA,MAAMC,KAAK,GAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;QAClC,MAAMI,KAAK,GAAGF,IAAI,CAACG,KAAK,CAACJ,KAAK,CAAC,CAACD,IAAI;QACpC;QACA;QACAP,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;;QAElB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACAd,MAAM,GAAGc,KAAK;MAElB,CAAC,CAAC,CAACE,KAAK,CAACC,CAAC,IAAI;QACVd,OAAO,CAACC,GAAG,CAACa,CAAC,CAAC;QACdvB,SAAS,CAACwB,KAAK,CAAC,QAAQ,CAAC;MAC7B,CAAC,CAAC;IACN;IACA;IACA;IACA;IACAtB,SAAS,CAAC,MAAM;MACZ;MACAU,aAAa,CAAC,CAAC;MACf;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACJ,CAAC,CAAC;IACF;;IAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}