{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from \"@/router\";\nimport axios from \"axios\";\nimport { ElMessage } from \"element-plus\";\nconst config = axios.interceptors.request.use(function (config) {\n  config.headers = {\n    \"user-token\": localStorage.getItem(\"isLogin\")\n  };\n  // 在发送请求之前做些什么\n  return config;\n}, function (error) {\n  // 对请求错误做些什么\n  return Promise.reject(error);\n});\naxios.interceptors.response.use(response => {\n  return response;\n}, err => {\n  const code = err.response.status;\n  if (code === 401) {\n    router.push(\"/login\");\n    location.reload();\n    ElMessage.error(\"登录信息失效，请重新登录\");\n  }\n});\nexport default config;","map":{"version":3,"names":["router","axios","ElMessage","config","interceptors","request","use","headers","localStorage","getItem","error","Promise","reject","response","err","code","status","push","location","reload"],"sources":["C:/Users/18725/Desktop/集训队管理系统开发/manage/front/manage/src/static/request.js"],"sourcesContent":["import router from \"@/router\";\r\nimport axios from \"axios\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst config = axios.interceptors.request.use(function (config) {\r\n    config.headers = {\r\n        \"user-token\": localStorage.getItem(\"isLogin\")\r\n    }\r\n    // 在发送请求之前做些什么\r\n    return config;\r\n}, function (error) {\r\n    // 对请求错误做些什么\r\n    return Promise.reject(error);\r\n});\r\n\r\naxios.interceptors.response.use(response => {\r\n    return response\r\n}, err => {\r\n    const code = err.response.status\r\n    if (code === 401) {\r\n        router.push(\"/login\")\r\n        location.reload();\r\n        ElMessage.error(\"登录信息失效，请重新登录\")\r\n    }\r\n})\r\n\r\nexport default config"],"mappings":";AAAA,OAAOA,MAAM,MAAM,UAAU;AAC7B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,cAAc;AAExC,MAAMC,MAAM,GAAGF,KAAK,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAC,UAAUH,MAAM,EAAE;EAC5DA,MAAM,CAACI,OAAO,GAAG;IACb,YAAY,EAAEC,YAAY,CAACC,OAAO,CAAC,SAAS;EAChD,CAAC;EACD;EACA,OAAON,MAAM;AACjB,CAAC,EAAE,UAAUO,KAAK,EAAE;EAChB;EACA,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAChC,CAAC,CAAC;AAEFT,KAAK,CAACG,YAAY,CAACS,QAAQ,CAACP,GAAG,CAACO,QAAQ,IAAI;EACxC,OAAOA,QAAQ;AACnB,CAAC,EAAEC,GAAG,IAAI;EACN,MAAMC,IAAI,GAAGD,GAAG,CAACD,QAAQ,CAACG,MAAM;EAChC,IAAID,IAAI,KAAK,GAAG,EAAE;IACdf,MAAM,CAACiB,IAAI,CAAC,QAAQ,CAAC;IACrBC,QAAQ,CAACC,MAAM,CAAC,CAAC;IACjBjB,SAAS,CAACQ,KAAK,CAAC,cAAc,CAAC;EACnC;AACJ,CAAC,CAAC;AAEF,eAAeP,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}